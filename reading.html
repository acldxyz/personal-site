<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Reading List — Adam Dawson</title>
  <link rel="icon" type="image/png" href="acldxyz logo.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="layout">

  <nav class="sidebar">
    <a href="index.html" class="logo"><img src="acldxyz logo.png" alt="Adam Dawson"></a>
    <span class="site-name">Adam Dawson</span>

    <a href="about.html">About</a>

    <div class="nav-item has-submenu">
      <a class="parent-link" href="#">Writing</a>
      <div class="submenu">
        <a href="fatherhood.html">Fatherhood</a>
        <a href="research.html">Research</a>
      </div>
    </div>

    <a href="reading.html" aria-current="page">Reading List</a>
    <a href="links.html">Links</a>
    <a href="mailto:adam@acld.xyz">Contact</a>
  </nav>

  <main class="content">
    <h2>Reading List</h2>

    <div class="reading-charts">
      <div class="chart" id="chart-genre">
        <h3>By Genre</h3>
        <div class="chart-bars"></div>
      </div>
      <div class="chart" id="chart-year">
        <h3>By Year</h3>
        <div class="chart-bars"></div>
      </div>
    </div>

    <div class="reading-filters">
      <div class="filter-group">
        <span class="filter-label">Year</span>
        <button class="filter-btn active" data-filter="year" data-value="all">All</button>
        <button class="filter-btn" data-filter="year" data-value="2026">2026</button>
        <button class="filter-btn" data-filter="year" data-value="2025">2025</button>
        <button class="filter-btn" data-filter="year" data-value="2024">2024</button>
        <button class="filter-btn" data-filter="year" data-value="2023">2023</button>
        <button class="filter-btn" data-filter="year" data-value="2022">2022</button>
        <button class="filter-btn" data-filter="year" data-value="≤ 2021">≤ 2021</button>
      </div>
      <div class="filter-group">
        <span class="filter-label">Genre</span>
        <button class="filter-btn active" data-filter="genre" data-value="all">All</button>
        <button class="filter-btn" data-filter="genre" data-value="Sci-Fi">Sci-Fi</button>
        <button class="filter-btn" data-filter="genre" data-value="Fantasy">Fantasy</button>
        <button class="filter-btn" data-filter="genre" data-value="Non-Fiction">Non-Fiction</button>
        <button class="filter-btn" data-filter="genre" data-value="Novel">Novel</button>
        <button class="filter-btn" data-filter="genre" data-value="Play">Play</button>
        <button class="filter-btn" data-filter="genre" data-value="Short Stories">Short Stories</button>
      </div>
      <div class="filter-group" id="subgenre-filters" style="display:none">
        <span class="filter-label">Subgenre</span>
        <button class="filter-btn active" data-filter="subgenre" data-value="all">All</button>
        <button class="filter-btn" data-filter="subgenre" data-value="Space Opera">Space Opera</button>
        <button class="filter-btn" data-filter="subgenre" data-value="Hard Sci-Fi">Hard Sci-Fi</button>
        <button class="filter-btn" data-filter="subgenre" data-value="Adventure">Adventure</button>
        <button class="filter-btn" data-filter="subgenre" data-value="Dystopian">Dystopian</button>
        <button class="filter-btn" data-filter="subgenre" data-value="Cyberpunk">Cyberpunk</button>
        <button class="filter-btn" data-filter="subgenre" data-value="LitRPG">LitRPG</button>
      </div>
      <div class="filter-group">
        <span class="filter-label">Recommend</span>
        <button class="filter-btn active" data-filter="rec" data-value="all">All</button>
        <button class="filter-btn" data-filter="rec" data-value="S">Strongly</button>
        <button class="filter-btn" data-filter="rec" data-value="X">Yes</button>
      </div>
    </div>

    <table class="reading-table">
      <thead>
        <tr>
          <th class="th-cover"></th>
          <th>Title</th>
          <th>Genre</th>
          <th>Rec</th>
          <th>Year</th>
        </tr>
      </thead>
      <tbody id="book-list"></tbody>
    </table>

    <p class="reading-count" id="book-count"></p>

  </main>

</div>

<script>
var books = [
  { title: "The Ministry of Time", author: "Kaliane Bradley", year: "2026", rec: "", genre: "Sci-Fi", subgenre: "Dystopian" },
  { title: "Blindsight", author: "Peter Watts", year: "2026", rec: "X", genre: "Sci-Fi", subgenre: "Hard Sci-Fi" },
  { title: "Into Thin Air", author: "Jon Krakauer", year: "2025", rec: "X", genre: "Non-Fiction", subgenre: "" },
  { title: "The Sense of an Ending", author: "Julian Barnes", year: "2025", rec: "S", genre: "Novel", subgenre: "" },
  { title: "The Ocean at the End of the Lane", author: "Neil Gaiman", year: "2025", rec: "X", genre: "Fantasy", subgenre: "" },
  { title: "Einstein's Dreams", author: "Alan Lightman", year: "2025", rec: "S", genre: "Novel", subgenre: "" },
  { title: "Contact", author: "Carl Sagan", year: "2025", rec: "X", genre: "Sci-Fi", subgenre: "Hard Sci-Fi" },
  { title: "The Fall of Hyperion", author: "Dan Simmons", year: "2025", rec: "X", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "A Short Stay in Hell", author: "Steven L. Peck", year: "2025", rec: "", genre: "Fantasy", subgenre: "" },
  { title: "Orbital", author: "Samantha Harvey", year: "2025", rec: "S", genre: "Sci-Fi", subgenre: "Hard Sci-Fi" },
  { title: "Semiosis", author: "Sue Burke", year: "2025", rec: "X", genre: "Sci-Fi", subgenre: "Hard Sci-Fi" },
  { title: "The Dungeon Anarchist's Cookbook", author: "Matt Dinniman", year: "2025", rec: "X", genre: "Sci-Fi", subgenre: "LitRPG" },
  { title: "Solaris", author: "Stanislaw Lem", year: "2025", rec: "", genre: "Sci-Fi", subgenre: "Hard Sci-Fi" },
  { title: "Carl's Doomsday Scenario", author: "Matt Dinniman", year: "2025", rec: "X", genre: "Sci-Fi", subgenre: "LitRPG" },
  { title: "Dungeon Crawler Carl", author: "Matt Dinniman", year: "2025", rec: "S", genre: "Sci-Fi", subgenre: "LitRPG" },
  { title: "Murderbot: Exit Strategy", author: "Martha Wells", year: "2025", rec: "X", genre: "Sci-Fi", subgenre: "Adventure" },
  { title: "I, Robot", author: "Isaac Asimov", year: "2025", rec: "X", genre: "Sci-Fi", subgenre: "Dystopian" },
  { title: "Jurassic Park", author: "Michael Crichton", year: "2025", rec: "S", genre: "Sci-Fi", subgenre: "Adventure" },
  { title: "Project Hail Mary", author: "Andy Weir", year: "2025", rec: "S", genre: "Sci-Fi", subgenre: "Hard Sci-Fi" },
  { title: "Upgrade", author: "Blake Crouch", year: "2025", rec: "", genre: "Sci-Fi", subgenre: "Dystopian" },
  { title: "Annie Bot", author: "Sierra Greer", year: "2025", rec: "", genre: "Sci-Fi", subgenre: "Dystopian" },
  { title: "Golden Son", author: "Pierce Brown", year: "2025", rec: "X", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "The Left Hand of Darkness", author: "Ursula K. Le Guin", year: "2025", rec: "", genre: "Sci-Fi", subgenre: "Dystopian" },
  { title: "Chapterhouse Dune", author: "Frank Herbert", year: "2025", rec: "", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "Counter-Intelligence", author: "Robert Hannigan", year: "2025", rec: "", genre: "Non-Fiction", subgenre: "" },
  { title: "Murderbot: Rogue Protocol", author: "Martha Wells", year: "2025", rec: "X", genre: "Sci-Fi", subgenre: "Adventure" },
  { title: "Murderbot: Artificial Condition", author: "Martha Wells", year: "2025", rec: "X", genre: "Sci-Fi", subgenre: "Adventure" },
  { title: "Hyperion", author: "Dan Simmons", year: "2024", rec: "X", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "The Return of the King", author: "J.R.R. Tolkien", year: "2024", rec: "X", genre: "Fantasy", subgenre: "" },
  { title: "The Two Towers", author: "J.R.R. Tolkien", year: "2024", rec: "", genre: "Fantasy", subgenre: "" },
  { title: "The Fellowship of the Ring", author: "J.R.R. Tolkien", year: "2024", rec: "", genre: "Fantasy", subgenre: "" },
  { title: "A River Runs Through It", author: "Norman Maclean", year: "2024", rec: "", genre: "Novel", subgenre: "" },
  { title: "Murderbot: All Systems Red", author: "Martha Wells", year: "2024", rec: "X", genre: "Sci-Fi", subgenre: "Adventure" },
  { title: "The Hobbit", author: "J.R.R. Tolkien", year: "2024", rec: "", genre: "Fantasy", subgenre: "" },
  { title: "Do Androids Dream of Electric Sheep", author: "Philip K. Dick", year: "2024", rec: "X", genre: "Sci-Fi", subgenre: "Cyberpunk" },
  { title: "The Man Who Solved the Market", author: "Gregory Zuckerman", year: "2023", rec: "X", genre: "Non-Fiction", subgenre: "" },
  { title: "The Sounds of Life", author: "Karen Bakker", year: "2023", rec: "X", genre: "Non-Fiction", subgenre: "" },
  { title: "Hidden Life of Trees", author: "Peter Wohlleben", year: "2023", rec: "S", genre: "Non-Fiction", subgenre: "" },
  { title: "Billion Dollar Whale", author: "Tom Wright", year: "2023", rec: "", genre: "Non-Fiction", subgenre: "" },
  { title: "The Kill Chain", author: "Christian Brose", year: "2023", rec: "", genre: "Non-Fiction", subgenre: "" },
  { title: "Heretics of Dune", author: "Frank Herbert", year: "2023", rec: "X", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "The Three Body Problem", author: "Liu Cixin", year: "2023", rec: "X", genre: "Sci-Fi", subgenre: "Hard Sci-Fi" },
  { title: "Red Rising", author: "Pierce Brown", year: "2023", rec: "X", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "Troy", author: "Stephen Fry", year: "2023", rec: "X", genre: "Novel", subgenre: "" },
  { title: "Speaker for the Dead", author: "Orson Scott Card", year: "2023", rec: "X", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "Ender's Game", author: "Orson Scott Card", year: "2023", rec: "S", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "A View from the Bridge", author: "Arthur Miller", year: "2023", rec: "S", genre: "Play", subgenre: "" },
  { title: "The Paper Menagerie and Other Stories", author: "Ken Liu", year: "2023", rec: "X", genre: "Short Stories", subgenre: "" },
  { title: "The Creative Act: A Way of Being", author: "Rick Rubin", year: "2023", rec: "", genre: "Non-Fiction", subgenre: "" },
  { title: "God Emperor of Dune", author: "Frank Herbert", year: "2023", rec: "S", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "The Age of A.I. and our Human Future", author: "Henry Kissinger", year: "2023", rec: "", genre: "Non-Fiction", subgenre: "" },
  { title: "Rocket Men", author: "Robert Kurson", year: "2023", rec: "X", genre: "Non-Fiction", subgenre: "" },
  { title: "Ghost Wars", author: "Steve Coll", year: "2023", rec: "X", genre: "Non-Fiction", subgenre: "" },
  { title: "Barbarian Days: A Surfing Life", author: "William Finnegan", year: "2022", rec: "S", genre: "Non-Fiction", subgenre: "" },
  { title: "Psychology of Money", author: "Morgan Housel", year: "2022", rec: "X", genre: "Non-Fiction", subgenre: "" },
  { title: "Neuromancer", author: "William Gibson", year: "2022", rec: "X", genre: "Sci-Fi", subgenre: "Cyberpunk" },
  { title: "Damascus Station", author: "David McCloskey", year: "2022", rec: "X", genre: "Novel", subgenre: "" },
  { title: "Foundation and the Empire", author: "Isaac Asimov", year: "2022", rec: "", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "Ardennes 1944", author: "Antony Beevor", year: "2022", rec: "S", genre: "Non-Fiction", subgenre: "" },
  { title: "Ringworld", author: "Larry Niven", year: "2022", rec: "", genre: "Sci-Fi", subgenre: "Adventure" },
  { title: "Snow Crash", author: "Neal Stephenson", year: "2022", rec: "S", genre: "Sci-Fi", subgenre: "Cyberpunk" },
  { title: "Kitchen Confidential", author: "Anthony Bourdain", year: "2022", rec: "S", genre: "Non-Fiction", subgenre: "" },
  { title: "Beginner's Mind", author: "Shunryu Suzuki", year: "2022", rec: "X", genre: "Non-Fiction", subgenre: "" },
  { title: "Merchants of Debt", author: "George Anders", year: "2022", rec: "X", genre: "Non-Fiction", subgenre: "" },
  { title: "Weed the People", author: "Bruce Barcott", year: "2022", rec: "", genre: "Non-Fiction", subgenre: "" },
  { title: "Bad Blood", author: "John Carreyrou", year: "2022", rec: "X", genre: "Non-Fiction", subgenre: "" },
  { title: "Children of Dune", author: "Frank Herbert", year: "2022", rec: "", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "Stories of Your Life and Others", author: "Ted Chiang", year: "2022", rec: "S", genre: "Short Stories", subgenre: "" },
  { title: "Macbeth", author: "William Shakespeare", year: "2022", rec: "S", genre: "Play", subgenre: "" },
  { title: "The Hard Thing About Hard Things", author: "Ben Horowitz", year: "2022", rec: "", genre: "Non-Fiction", subgenre: "" },
  { title: "My Life at the Limit", author: "Reinhold Messner", year: "2022", rec: "", genre: "Non-Fiction", subgenre: "" },
  { title: "The Cold Start Problem", author: "Andrew Chen", year: "2022", rec: "", genre: "Non-Fiction", subgenre: "" },
  { title: "Super Pumped", author: "Mike Isaac", year: "2022", rec: "X", genre: "Non-Fiction", subgenre: "" },
  { title: "The Martian", author: "Andy Weir", year: "2022", rec: "S", genre: "Sci-Fi", subgenre: "Hard Sci-Fi" },
  { title: "Division by Zero", author: "Ted Chiang", year: "2022", rec: "S", genre: "Short Stories", subgenre: "" },
  { title: "Exhalation", author: "Ted Chiang", year: "2022", rec: "S", genre: "Short Stories", subgenre: "" },
  { title: "Dune Messiah", author: "Frank Herbert", year: "2022", rec: "X", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "Boys in the Boat", author: "Daniel James Brown", year: "2022", rec: "S", genre: "Non-Fiction", subgenre: "" },
  { title: "Dune", author: "Frank Herbert", year: "2022", rec: "S", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "Foundation", author: "Isaac Asimov", year: "2022", rec: "X", genre: "Sci-Fi", subgenre: "Space Opera" },
  { title: "A Little Life", author: "Hanya Yanagihara", year: "≤ 2021", rec: "S", genre: "Novel", subgenre: "" },
  { title: "The Corrections", author: "Jonathan Franzen", year: "≤ 2021", rec: "", genre: "Novel", subgenre: "" },
  { title: "Freedom", author: "Jonathan Franzen", year: "≤ 2021", rec: "X", genre: "Novel", subgenre: "" },
  { title: "Curious Case of the Dog in the Nighttime", author: "Mark Haddon", year: "≤ 2021", rec: "S", genre: "Novel", subgenre: "" },
  { title: "Sol Lewitt 100 Views", author: "Sol LeWitt", year: "≤ 2021", rec: "S", genre: "Non-Fiction", subgenre: "" },
];

(function() {
  var filters = { year: 'all', genre: 'all', subgenre: 'all', rec: 'all' };
  var tbody = document.getElementById('book-list');
  var countEl = document.getElementById('book-count');
  var coverCache = {};

  var genreOrder = ['Sci-Fi', 'Non-Fiction', 'Novel', 'Fantasy', 'Short Stories', 'Play'];
  var yearOrder = ['2026', '2025', '2024', '2023', '2022', '\u2264 2021'];

  function buildChart(containerId, keys, field) {
    var counts = {};
    keys.forEach(function(k) { counts[k] = 0; });
    books.forEach(function(b) {
      if (counts[b[field]] !== undefined) counts[b[field]]++;
    });
    var max = Math.max.apply(null, keys.map(function(k) { return counts[k]; }));

    var container = document.querySelector('#' + containerId + ' .chart-bars');
    container.innerHTML = '';
    keys.forEach(function(k) {
      var pct = max > 0 ? (counts[k] / max * 100) : 0;
      var row = document.createElement('div');
      row.className = 'chart-row';
      row.innerHTML =
        '<span class="chart-label">' + k + '</span>' +
        '<div class="chart-bar-track"><div class="chart-bar-fill" style="width:' + pct + '%"></div></div>' +
        '<span class="chart-value">' + counts[k] + '</span>';
      container.appendChild(row);
    });
  }

  function recLabel(r) {
    if (r === 'S') return 'Strongly';
    if (r === 'X') return 'Yes';
    return '';
  }

  function fetchCover(title, author, imgEl) {
    var key = title + '||' + author;
    if (coverCache[key] !== undefined) {
      if (coverCache[key]) {
        imgEl.src = coverCache[key];
      } else {
        imgEl.style.display = 'none';
      }
      return;
    }
    var query = 'intitle:' + encodeURIComponent(title) + '+inauthor:' + encodeURIComponent(author);
    fetch('https://www.googleapis.com/books/v1/volumes?q=' + query + '&maxResults=5')
      .then(function(res) { return res.json(); })
      .then(function(data) {
        if (data.items) {
          for (var i = 0; i < data.items.length; i++) {
            var links = data.items[i].volumeInfo.imageLinks;
            if (links && (links.thumbnail || links.smallThumbnail)) {
              var url = (links.thumbnail || links.smallThumbnail).replace('http://', 'https://');
              coverCache[key] = url;
              imgEl.src = url;
              return;
            }
          }
        }
        coverCache[key] = '';
        imgEl.style.display = 'none';
      })
      .catch(function() {
        coverCache[key] = '';
        imgEl.style.display = 'none';
      });
  }

  function render() {
    var filtered = books.filter(function(b) {
      if (filters.year !== 'all' && b.year !== filters.year) return false;
      if (filters.genre !== 'all' && b.genre !== filters.genre) return false;
      if (filters.subgenre !== 'all' && b.subgenre !== filters.subgenre) return false;
      if (filters.rec !== 'all' && b.rec !== filters.rec) return false;
      return true;
    });

    tbody.innerHTML = '';
    filtered.forEach(function(b) {
      var tr = document.createElement('tr');
      var coverTd = document.createElement('td');
      coverTd.className = 'td-cover';
      var img = document.createElement('img');
      img.className = 'book-cover';
      img.alt = '';
      img.loading = 'lazy';
      coverTd.appendChild(img);
      fetchCover(b.title, b.author, img);

      tr.appendChild(coverTd);
      tr.insertAdjacentHTML('beforeend',
        '<td>' + b.title + '</td>' +
        '<td>' + b.genre + '</td>' +
        '<td>' + recLabel(b.rec) + '</td>' +
        '<td>' + b.year + '</td>');
      tbody.appendChild(tr);
    });

    countEl.textContent = filtered.length + ' book' + (filtered.length !== 1 ? 's' : '');
  }

  var subgenreRow = document.getElementById('subgenre-filters');

  document.querySelectorAll('.filter-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var group = btn.getAttribute('data-filter');
      var value = btn.getAttribute('data-value');
      filters[group] = value;

      document.querySelectorAll('.filter-btn[data-filter="' + group + '"]').forEach(function(b) {
        b.classList.remove('active');
      });
      btn.classList.add('active');

      if (group === 'genre') {
        if (value === 'Sci-Fi') {
          subgenreRow.style.display = '';
        } else {
          subgenreRow.style.display = 'none';
          filters.subgenre = 'all';
          document.querySelectorAll('.filter-btn[data-filter="subgenre"]').forEach(function(b) {
            b.classList.remove('active');
          });
          document.querySelector('.filter-btn[data-filter="subgenre"][data-value="all"]').classList.add('active');
        }
      }

      render();
    });
  });

  buildChart('chart-genre', genreOrder, 'genre');
  buildChart('chart-year', yearOrder, 'year');
  render();
})();
</script>

</body>
</html>
